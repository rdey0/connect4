{"version":3,"sources":["components/select_box.js","utils/enum.js","utils/helper.js","classes/random.js","classes/monte_carlo.js","classes/alphabeta.js","classes/minimax.js","classes/adh.js","components/header.js","components/cell.js","images/orange-x.png","images/blue-x.png","components/column.js","components/board.js","components/banner.js","App.js","reportWebVitals.js","index.js"],"names":["Select","props","handleClickOutside","state","show_options","setState","toggle_show_options","show","select_option","index","selected_option","handleChange","options","is_selected","className","onClick","this","title","onBlur","map","option","name","React","Component","onClickOutside","CELL_STATES","GAME_STATES","get_game_state","board","row","col","num_to_win","curr_player","num_rows","length","num_cols","num_consecutive","i","check_left_diagonal","check_vertical","check_right_diagonal","check_horizontal","matrix","j","board_is_full","make_copy","copy","slice","wait","ms","Promise","resolve","reject","setTimeout","get_winning_move","left_diagonal","winning_moves","push","get_left_diagonal","vertical","get_vertical","right_diagonal","get_right_diagonal","horizontal","get_horizontal","RandomAi","player_number","timeout","depth","chosen_move","player_num","num_won","num_draw","num_lost","opponent","start_time","Date","getTime","is_winning_move","get_random_move","is_timeout","legal_moves","forEach","Math","floor","random","move","can_make_move","make_move","r","c","game_state","unmake_move","column","MonteCarloAi","middle_column","values","Array","Number","NEGATIVE_INFINITY","play_random_game","outcome","last_player","update_chosen_move","next_move","game","our_player","AlphaBetaAi","move_score","best_move","best_score","MIN_SAFE_INTEGER","alpha","beta","MAX_SAFE_INTEGER","min_value","player","get_heuristic","max_value","board_width","board_height","player1_score","player2_score","column_value","height","get_column_height","x","y","MinimaxAi","OmoriAi","percent_filled","get_percent_filled","get_next_move","total","num_filled","parseFloat","ai_timeout","monte_carlo","alpha_beta","ai_options","value","Header","id","changeAi","restartGame","Cell","winningMove","alt","src","get_cell_class","curr_row","curr_col","Column","numCols","handleUserAction","val","winningMoves","Board","attempt_move","is_valid_move","makeMove","config","angle","spread","startVelocity","elementCount","dragFriction","duration","stagger","width","perspective","colors","BannerContent","gameState","message","Banner","active","App","fill","first_player","ai","ai_name","restart_game","curr_game_state","update_game_state","next_player","set_banner_message","set_ai","new_ai","ai_object","split","pop","join","get_ai_move","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66d784ef.chunk.js","sourcesContent":["import React from 'react';\r\nimport onClickOutside from 'react-onclickoutside';\r\nclass Select extends React.Component{\r\n    \r\n    constructor(props){\r\n        super();\r\n        this.state = {\r\n            selected_option: 1,\r\n            show_options: false\r\n        }\r\n    }\r\n\r\n    handleClickOutside = () => {\r\n        //close options menu if a click outside the select box is detected\r\n        if(this.state.show_options)\r\n            this.setState({show_options: false});\r\n    }\r\n\r\n    toggle_show_options=()=> {\r\n        var show = !this.state.show_options;\r\n        this.setState({show_options: show});\r\n    }\r\n\r\n    select_option=(index)=> {\r\n        this.setState({selected_option: index});\r\n        this.props.handleChange(this.props.options[index]);\r\n        this.toggle_show_options();\r\n    }\r\n\r\n    is_selected=(index)=> {\r\n        return(index === this.state.selected_option)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='select-box-container' onClick={this.toggle_show_options}>\r\n                <div className='select-title'>{this.props.title}</div>\r\n                {this.state.show_options &&\r\n                    <div className='select-options' onBlur={this.toggle_show_options}>\r\n                        {\r\n                            this.props.options.map((option, index) =>{\r\n                                if(this.is_selected(index)){\r\n                                    return <div className='option-selected' onClick={()=>this.select_option(index)} \r\n                                        key={index}>{option.name}</div>\r\n                                }else{\r\n                                    return <div className='option' onClick={()=>this.select_option(index)} \r\n                                        key={index}>{option.name}</div>\r\n                                }\r\n                                \r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default onClickOutside(Select);","\r\nconst CELL_STATES = {\r\n    EMPTY: 0,\r\n    PLAYER1: 1,\r\n    PLAYER2: 2\r\n};\r\n\r\nconst GAME_STATES = {\r\n    ONGOING: 0,\r\n    WIN: 1,\r\n    DRAW: 2\r\n}\r\n\r\n\r\nexport {CELL_STATES, GAME_STATES};","import {CELL_STATES, GAME_STATES} from './enum.js'\r\n\r\nexport function transpose(matrix) {\r\n    return matrix[0].map((col, c) => matrix.map((row, r) => matrix[r][c]));\r\n}\r\n\r\nexport function is_valid_move(matrix, column) {\r\n    return matrix[0][column] === CELL_STATES.EMPTY;\r\n}\r\n\r\n\r\nfunction check_left_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player){\r\n    var num_consecutive = 1;\r\n    //check top left diagonal\r\n    for(let i = 1; row - i >= 0 && col - i >= 0; i++){\r\n      if(board[row-i][col-i] === curr_player)\r\n        num_consecutive += 1;\r\n      else\r\n        break;\r\n    }\r\n    //check bottom right diagonal\r\n    for(let i = 1; row + i < num_rows && col + i < num_cols; i++){\r\n      if(board[row+i][col+i] === curr_player)\r\n        num_consecutive += 1;\r\n      else\r\n        break;\r\n    }\r\n    return (num_consecutive >= num_to_win)\r\n}\r\n\r\nfunction check_vertical(board, row, col, num_rows, num_to_win, curr_player){\r\n    var num_consecutive = 1;\r\n    //check bottom vertical\r\n    for(var i = 1; row + i < num_rows; i++){\r\n        if(board[row+i][col] === curr_player)\r\n            num_consecutive += 1;\r\n        else\r\n            break;\r\n    }\r\n    return (num_consecutive >= num_to_win);\r\n}\r\n\r\nfunction check_right_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player){\r\n    var num_consecutive = 1;\r\n    //check top right diagonal\r\n    for(let i = 1; row - i >= 0 && col + i < num_cols; i++){\r\n        if(board[row-i][col+i] === curr_player)\r\n            num_consecutive += 1;\r\n        else\r\n            break;\r\n    }\r\n    //check bottom left diagonal\r\n    for(let i = 1; row + i < num_rows && col - i >= 0; i++){\r\n        if(board[row+i][col-i] === curr_player)\r\n            num_consecutive += 1;\r\n        else\r\n            break;\r\n    }\r\n    return (num_consecutive >= num_to_win);\r\n}\r\n\r\nfunction check_horizontal(board, row, col, num_cols, num_to_win, curr_player){\r\n    var num_consecutive = 1;\r\n    //check right horizontal\r\n    for(let i = 1; col + i < num_cols; i++){\r\n        if(board[row][col+i] === curr_player)\r\n            num_consecutive += 1;\r\n        else\r\n            break;\r\n    }\r\n    //check left horizontal\r\n    for(let i = 1; col - i >= 0; i++){\r\n        if(board[row][col-i] === curr_player)\r\n            num_consecutive += 1;\r\n        else\r\n            break;\r\n    }\r\n    return (num_consecutive >= num_to_win);\r\n}\r\n\r\nfunction board_is_full(matrix) {\r\n    for(let j = 0; j < matrix[0].length; ++j){\r\n        if(matrix[0][j] === CELL_STATES.EMPTY)\r\n            return false\r\n    }\r\n    return true\r\n}\r\n\r\nexport function get_game_state(board, row, col, num_to_win, curr_player) {\r\n    var num_rows = board.length;\r\n    var num_cols = board[0].length;\r\n    var someone_won = (check_left_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player) ||\r\n        check_vertical(board, row, col, num_rows, num_to_win, curr_player) ||\r\n        check_right_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player)||\r\n        check_horizontal(board, row, col, num_cols, num_to_win, curr_player));\r\n\r\n    if(someone_won)\r\n        return GAME_STATES.WIN;\r\n    if(board_is_full(board))\r\n        return GAME_STATES.DRAW;\r\n    return GAME_STATES.ONGOING;\r\n}\r\n\r\nexport function make_copy(board){\r\n    var copy = [];\r\n      for (var i = 0; i < board.length; i++)\r\n          copy[i] = board[i].slice();\r\n    return copy;\r\n}\r\n\r\nexport function wait(ms) {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve(ms)\r\n        }, ms )\r\n    })\r\n}\r\n\r\nexport function get_winning_move(board, row, col, num_to_win, curr_player) {\r\n    var num_rows = board.length;\r\n    var num_cols = board[0].length;\r\n    var left_diagonal = get_left_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player);\r\n    if(left_diagonal)\r\n        return left_diagonal;\r\n\r\n    var vertical = get_vertical(board, row, col, num_rows, num_to_win, curr_player);\r\n    if(vertical)\r\n        return vertical;\r\n\r\n    var right_diagonal = get_right_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player);\r\n    if(right_diagonal)\r\n        return right_diagonal;\r\n\r\n    var horizontal = get_horizontal(board, row, col, num_cols, num_to_win, curr_player);\r\n    if(horizontal)\r\n        return horizontal;\r\n    //return null if there were no winning moves to be found\r\n    return null;\r\n}\r\n/*\r\n * Returns the winning moves (array of [row, column] coordinate pairs) of the left diagonal if they exist.\r\n * If there is no winning move, null is returned.\r\n */\r\nfunction get_left_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player){\r\n    var winning_moves = [[row,col]];\r\n    var num_consecutive = 1;\r\n    //check top left diagonal\r\n    for(let i = 1; row - i >= 0 && col - i >= 0; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row-i][col-i] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row-i,col-i])\r\n        }else{\r\n            break;\r\n        } \r\n            \r\n    }\r\n\r\n    if(num_consecutive === num_to_win)\r\n        return winning_moves;\r\n\r\n    //check bottom right diagonal\r\n    for(let i = 1; row + i < num_rows && col + i < num_cols; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row+i][col+i] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row+i,col+i])\r\n        }else{\r\n            break;\r\n        }\r\n            \r\n    }\r\n\r\n    if(num_consecutive === num_to_win)\r\n        return winning_moves;\r\n    return null;\r\n}\r\n\r\nfunction get_vertical(board, row, col, num_rows, num_to_win, curr_player){\r\n    var winning_moves = [[row,col]];\r\n    var num_consecutive = 1;\r\n    //check bottom vertical\r\n    for(var i = 1; row + i < num_rows; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row+i][col] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row+i,col]);\r\n        }else{\r\n            break;\r\n        }\r\n            \r\n    }\r\n    if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n    return null;\r\n}\r\n\r\nfunction get_right_diagonal(board, row, col, num_rows, num_cols, num_to_win, curr_player){\r\n    var winning_moves = [[row,col]];\r\n    var num_consecutive = 1;\r\n    //check top right diagonal\r\n    for(let i = 1; row - i >= 0 && col + i < num_cols; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row-i][col+i] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row-i,col+i]);\r\n        }else{\r\n            break;\r\n        }  \r\n    }\r\n\r\n    if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n\r\n    //check bottom left diagonal\r\n    for(let i = 1; row + i < num_rows && col - i >= 0; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row+i][col-i] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row+i,col-i]);\r\n        }else\r\n            break;\r\n    }\r\n    if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n    return null;\r\n}\r\n\r\nfunction get_horizontal(board, row, col, num_cols, num_to_win, curr_player){\r\n    var winning_moves = [[row,col]];\r\n    var num_consecutive = 1;\r\n    //check right horizontal\r\n    for(let i = 1; col + i < num_cols; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row][col+i] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row,col+i]);\r\n        }else\r\n            break;\r\n    }\r\n\r\n    if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n\r\n    //check left horizontal\r\n    for(let i = 1; col - i >= 0; i++){\r\n        if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n        if(board[row][col-i] === curr_player){\r\n            num_consecutive += 1;\r\n            winning_moves.push([row,col-i]);\r\n        }else\r\n            break;\r\n    }\r\n    if(num_consecutive === num_to_win)\r\n            return winning_moves;\r\n    return null;\r\n}","import {CELL_STATES, GAME_STATES} from '../utils/enum.js'\r\nimport {get_game_state} from '../utils/helper.js'\r\n\r\nexport default class RandomAi {\r\n    constructor(player_number, num_to_win, timeout, depth) {\r\n        this.timeout = timeout\r\n        this.chosen_move = 0;\r\n        this.player_num = player_number;\r\n        this.num_to_win = num_to_win;\r\n        this.num_won = 0;\r\n        this.num_draw = 0;\r\n        this.num_lost = 0;\r\n        this.board = null;\r\n        this.depth = depth;\r\n    }\r\n\r\n    get_next_move(board) {\r\n        this.board = board;\r\n        var opponent = (this.player_num === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n        var start_time = new Date().getTime();\r\n        var chosen_move = null;\r\n        //if we can win in the next move, make the move\r\n        for(let i = 0; i < this.board[0].length; i++){\r\n            if(this.is_winning_move(i, this.player_num)){\r\n                chosen_move = i;\r\n                break;\r\n            }   \r\n        }\r\n\r\n        //if our opponent can win in the next move, block the move\r\n        for(let i = 0; i < this.board[0].length; i++){\r\n            if(this.is_winning_move(i, opponent)){\r\n                chosen_move = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(chosen_move == null)\r\n            chosen_move = this.get_random_move(board);\r\n            \r\n        //wait until we run out of time. This is unnecessary but we\r\n        //don't want to intimidate beginners by making moves too quickly\r\n        while(!this.is_timeout(start_time)){}\r\n        return chosen_move;\r\n    }\r\n\r\n    /* \r\n     * constantly updates this.move with the current best move\r\n     * until terminate is set to true\r\n     */ \r\n    get_random_move(board) {\r\n        var legal_moves = [];\r\n\r\n        board[0].forEach((state,index) => {\r\n            if(state === CELL_STATES.EMPTY) legal_moves.push(index);\r\n        });\r\n        //return a random legal move\r\n        return legal_moves[Math.floor(Math.random() * legal_moves.length)];\r\n    }\r\n\r\n    is_winning_move(move, curr_player){\r\n        if(this.can_make_move(move)){\r\n            var[r,c] = this.make_move(move, curr_player);\r\n            var game_state = get_game_state(this.board, r, c, this.num_to_win, curr_player);\r\n            this.unmake_move(move);\r\n            if(game_state === GAME_STATES.WIN)\r\n                return true       \r\n        }\r\n        return false;\r\n    }\r\n    \r\n\r\n    /* \r\n     * checks if the AI has run out of time to make a move\r\n     */\r\n    is_timeout(start_time) {\r\n        return (new Date().getTime() - start_time >= this.timeout);\r\n    }\r\n\r\n\r\n    make_move(column, curr_player) {\r\n        var row = 0;\r\n        while( row < this.board.length && this.board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        this.board[row - 1][column] = curr_player;\r\n        return [row - 1, column];\r\n         \r\n    }\r\n\r\n    unmake_move(column) {\r\n        var row = 0;\r\n        while( row < this.board.length && this.board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        this.board[row][column] = CELL_STATES.EMPTY;\r\n    }\r\n    \r\n    can_make_move(column) {\r\n        return this.board[0][column] === CELL_STATES.EMPTY;\r\n    }\r\n\r\n}","import {CELL_STATES, GAME_STATES} from '../utils/enum.js'\r\nimport {get_game_state} from '../utils/helper.js'\r\n\r\nexport default class MonteCarloAi {\r\n    constructor(player_number, num_to_win, timeout) {\r\n        this.timeout = timeout\r\n        this.chosen_move = 0;\r\n        this.player_num = player_number;\r\n        this.num_to_win = num_to_win;\r\n        this.num_won = 0;\r\n        this.num_draw = 0;\r\n        this.num_lost = 0;\r\n    }\r\n\r\n    get_next_move(board) {\r\n        // make a move in the middle of the board if it's empty\r\n        var middle_column = (board[0].length - 1)/2;\r\n        if(board[board.length - 1][middle_column] === CELL_STATES.EMPTY)\r\n            return middle_column;\r\n            \r\n        // Create value array and set all illegal moves to minimum value.\r\n        var values = new Array(board[0].length);\r\n        board[0].forEach((state,index) => {\r\n            values[index] = (state === CELL_STATES.EMPTY) ? 0 : Number.NEGATIVE_INFINITY;\r\n        });\r\n\r\n        //keep updating the value of each possible move until time runs out\r\n        var start_time = new Date().getTime();\r\n        while(!this.is_timeout(start_time)){\r\n            // get a random legal move and make it\r\n            var move = this.get_random_move(board);\r\n            var [row, col] = this.make_move(move, board, this.player_num);\r\n            // simulate the rest of the game starting with the opponents turn\r\n            var [outcome, last_player] = this.play_random_game(board, this.player_num, row, col);\r\n            this.update_chosen_move(this.player_num, outcome, last_player, values, move)\r\n            //unmake our initial move\r\n            this.unmake_move(move, board);\r\n        }\r\n        const next_move = this.chosen_move;\r\n        this.chosen_move = 0;\r\n        return next_move;\r\n    }\r\n\r\n    /* \r\n     * checks if the AI has run out of time to make a move\r\n     */\r\n    is_timeout(start_time) {\r\n        return (new Date().getTime() - start_time >= this.timeout);\r\n    }\r\n\r\n    /* \r\n     * Simulate a game where players make moves at random and then return \r\n     * the winner\r\n     */ \r\n    play_random_game(board, curr_player, row, col) {\r\n        // create a copy of the current board so we don't permanently modify anything\r\n        var game = [];\r\n        for (var i = 0; i < board.length; i++)\r\n            game[i] = board[i].slice();\r\n        // simulate the game until it ends\r\n        var game_state = get_game_state(game, row, col, this.num_to_win, curr_player);\r\n        while(game_state === GAME_STATES.ONGOING){\r\n            curr_player = (curr_player === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n            var move = this.get_random_move(game);\r\n            [row, col] = this.make_move(move,game,curr_player);\r\n            game_state = get_game_state(game, row, col, this.num_to_win, curr_player);\r\n            \r\n        }\r\n        return [game_state, curr_player];\r\n\r\n    }\r\n\r\n    update_chosen_move(our_player, outcome, last_player, values, move) {\r\n        // Dont change anything if the oucome is a draw\r\n        if(outcome === GAME_STATES.DRAW)\r\n            return;\r\n        \r\n        // add a point if we made the winning move, subtract one otherwise\r\n        values[move] += (last_player === our_player) ? 1 : -1;\r\n\r\n        // change the chosen move if there is a better move than our current one\r\n        for(let i = 0; i < values.length; ++i)\r\n            if(values[i] > values[this.chosen_move])\r\n                this.chosen_move = i;\r\n        \r\n\r\n    }\r\n    /* \r\n     * constantly updates this.move with the current best move\r\n     * until terminate is set to true\r\n     */ \r\n    get_random_move(board) {\r\n        var legal_moves = [];\r\n\r\n        board[0].forEach((state,index) => {\r\n            if(state === CELL_STATES.EMPTY) legal_moves.push(index);\r\n        });\r\n        //return a random legal move\r\n        return legal_moves[Math.floor(Math.random() * legal_moves.length)];\r\n    }\r\n\r\n\r\n    make_move(column, board, curr_player) {\r\n        var row = 0;\r\n        while( row < board.length && board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        board[row - 1][column] = curr_player;\r\n        return [row - 1, column];\r\n         \r\n    }\r\n\r\n    unmake_move(column, board) {\r\n        var row = 0;\r\n        while( row < board.length && board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        board[row][column] = CELL_STATES.EMPTY;\r\n    }\r\n    \r\n    can_make_move(column, board) {\r\n        return board[0][column] === CELL_STATES.EMPTY;\r\n    }\r\n\r\n}","import {CELL_STATES, GAME_STATES} from '../utils/enum.js'\r\nimport {get_game_state} from '../utils/helper.js'\r\n\r\nexport default class AlphaBetaAi {\r\n    constructor(player_number, num_to_win, timeout, depth) {\r\n        this.timeout = timeout\r\n        this.chosen_move = 0;\r\n        this.player_num = player_number;\r\n        this.num_to_win = num_to_win;\r\n        this.num_won = 0;\r\n        this.num_draw = 0;\r\n        this.num_lost = 0;\r\n        this.board = null;\r\n        this.depth = depth;\r\n    }\r\n\r\n    get_next_move(board) {\r\n        var depth = this.depth;\r\n        var move_score = 0;\r\n        var best_move = 0;\r\n        var best_score = Number.MIN_SAFE_INTEGER;\r\n        var alpha = Number.MIN_SAFE_INTEGER;\r\n        var beta = Number.MAX_SAFE_INTEGER;\r\n        this.board = board;\r\n        var opponent = (this.player_num === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n        var start_time = new Date().getTime();\r\n\r\n        //if we can win in the next move, make the move\r\n        for(let i = 0; i < this.board[0].length; i++){\r\n            if(this.is_winning_move(i, this.player_num))\r\n                return i;     \r\n        }\r\n\r\n        //if our opponent can win in the next move, block the move\r\n        for(let i = 0; i < this.board[0].length; i++){\r\n            if(this.is_winning_move(i, opponent))\r\n                return i;  \r\n        }\r\n\r\n        // use minimax with alpha beta pruning to decide on the next move\r\n        for(var i=0; i < this.board[0].length && !this.is_timeout(start_time); ++i){\r\n            if(this.can_make_move(i)){\r\n                var[row, col] = this.make_move(i, this.player_num);\r\n                move_score = this.min_value(depth-1, this.player_num, alpha, beta, row, col);\r\n                if(move_score >= best_score){\r\n                    best_score = move_score;\r\n                    best_move = i;\r\n                }\r\n                this.unmake_move(i);\r\n            }\r\n        }\r\n\r\n        if(!this.can_make_move(best_move)) {\r\n            best_move = 0;\r\n            while(!this.can_make_move(best_move))\r\n                best_move++;\r\n        }\r\n        return best_move;\r\n    }\r\n\r\n\r\n    max_value(depth, player, alpha, beta, row, col) {\r\n        var best_score = Number.MIN_SAFE_INTEGER;\r\n        var move_score;\r\n        var game_state = get_game_state(this.board, row, col, this.num_to_win, player);\r\n        if(depth === 0 || game_state !== GAME_STATES.ONGOING) {\r\n            return this.get_heuristic(this.player_num, game_state, player);\r\n        }else{\r\n            player = (player === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n            for(var i=0; i < this.board[0].length; ++i){\r\n                if(this.can_make_move(i)){\r\n                    var[r,c] = this.make_move(i, player);\r\n                    move_score = this.min_value(depth-1, player, alpha, beta, r, c);\r\n                    if(move_score > best_score)\r\n                        best_score = move_score;\r\n                    this.unmake_move(i);\r\n                    if(best_score >= beta)\r\n                        return best_score;\r\n                    if(best_score > alpha)\r\n                        alpha = best_score;\r\n                }\r\n            }\r\n        }\r\n        return best_score;\r\n    }\r\n\r\n    min_value(depth, player, alpha, beta, row, col) {\r\n        var best_score = Number.MAX_SAFE_INTEGER;\r\n        var move_score;\r\n        var game_state = get_game_state(this.board, row, col, this.num_to_win, player);\r\n        if(depth === 0 || game_state !== GAME_STATES.ONGOING) {\r\n            return this.get_heuristic(this.player_num, game_state, player);\r\n        }else{\r\n            player = (player === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n            for(var i=0; i < this.board[0].length; ++i){\r\n                if(this.can_make_move(i)){\r\n                    var[r,c] = this.make_move(i, player);\r\n                    move_score = this.max_value(depth-1, player, alpha, beta, r, c);\r\n                    if(move_score < best_score)\r\n                        best_score = move_score;\r\n                    this.unmake_move(i);\r\n                    if(best_score <= alpha)\r\n                        return best_score;\r\n                    if(best_score < beta)\r\n                        beta = best_score;\r\n                }\r\n            }\r\n        }\r\n        return best_score;\r\n    }\r\n\r\n    \r\n    get_heuristic(our_player, game_state, last_player) {\r\n        if(game_state !== GAME_STATES.ONGOING)\r\n            return (last_player === our_player) ? Number.MAX_SAFE_INTEGER : Number.MIN_SAFE_INTEGER;\r\n\r\n        var board_width = this.board[0].length;\r\n        var board_height = this.board.length;\r\n        var player1_score = 0;\r\n        var player2_score = 0;\r\n        var column_value = [1,2,3,4,3,2,1];\r\n        \r\n        for(var i=0; i < board_width; i++){\r\n            if(this.board[board_height - 1][i] === CELL_STATES.EMPTY) continue;\r\n            var height = board_height - this.get_column_height(i);\r\n            for(var j = board_height - 1; j >= height; j--){\r\n                for(var x = -1; x <= 1; x++){\r\n                    for(var y = -2; y <= 2; y++){\r\n                        if(i + x < 0 || i + x >= board_width || i - x < 0 || i - x >= board_width ||\r\n                            j + y < 0 || j + y >= board_height || j - y < 0 || j - y >= board_height){\r\n                            continue;\r\n                        }\r\n\r\n                        if(this.board[j+y][i+x] === CELL_STATES.PLAYER1){\r\n                            if(this.board[j-y][i-x] === CELL_STATES.PLAYER1) {\r\n                                player1_score += 2 * column_value[i];\r\n                            }else{\r\n                                player1_score += 1;\r\n                            }\r\n                        }else if(this.board[j+y][i+x] === CELL_STATES.PLAYER2){\r\n                            if(this.board[j-y][i-x] === CELL_STATES.PLAYER2){\r\n                                player2_score += 2 * column_value[i];\r\n                            }else{\r\n                                player2_score += 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n        return (this.player_num === CELL_STATES.PLAYER1) ?\r\n            (player1_score - player2_score):(player2_score - player1_score);\r\n\r\n    }\r\n\r\n    is_winning_move(move, curr_player){\r\n        if(this.can_make_move(move)){\r\n            var[r,c] = this.make_move(move, curr_player);\r\n            var game_state = get_game_state(this.board, r, c, this.num_to_win, curr_player);\r\n            this.unmake_move(move);\r\n            if(game_state === GAME_STATES.WIN)\r\n                return true       \r\n        }\r\n        return false;\r\n    }\r\n    \r\n\r\n    get_column_height(col) {\r\n        var height = 0;\r\n        for(var i = this.board.length-1; i >= 0; --i){\r\n            if(this.board[i][col] === CELL_STATES.EMPTY)\r\n                break;\r\n            height++;\r\n        }\r\n        return height;\r\n    }\r\n\r\n    /* \r\n     * checks if the AI has run out of time to make a move\r\n     */\r\n    is_timeout(start_time) {\r\n        return (new Date().getTime() - start_time >= this.timeout);\r\n    }\r\n\r\n\r\n    make_move(column, curr_player) {\r\n        var row = 0;\r\n        while( row < this.board.length && this.board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        this.board[row - 1][column] = curr_player;\r\n        return [row - 1, column];\r\n         \r\n    }\r\n\r\n    unmake_move(column) {\r\n        var row = 0;\r\n        while( row < this.board.length && this.board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        this.board[row][column] = CELL_STATES.EMPTY;\r\n    }\r\n    \r\n    can_make_move(column) {\r\n        return this.board[0][column] === CELL_STATES.EMPTY;\r\n    }\r\n\r\n}","import {CELL_STATES, GAME_STATES} from '../utils/enum.js'\r\nimport {get_game_state} from '../utils/helper.js'\r\n\r\nexport default class MinimaxAi {\r\n    constructor(player_number, num_to_win, timeout, depth) {\r\n        this.timeout = timeout\r\n        this.chosen_move = 0;\r\n        this.player_num = player_number;\r\n        this.num_to_win = num_to_win;\r\n        this.num_won = 0;\r\n        this.num_draw = 0;\r\n        this.num_lost = 0;\r\n        this.board = null;\r\n        this.depth = depth;\r\n    }\r\n\r\n    get_next_move(board) {\r\n        var depth = this.depth;\r\n        var move_score = 0;\r\n        var best_move = 0;\r\n        var best_score = Number.MIN_SAFE_INTEGER;\r\n        this.board = board;\r\n        var opponent = (this.player_num === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n        var start_time = new Date().getTime();\r\n\r\n        //if we can win in the next move, make the move\r\n        for(let i = 0; i < this.board[0].length; i++){\r\n            if(this.is_winning_move(i, this.player_num))\r\n                return i;     \r\n        }\r\n\r\n        //if our opponent can win in the next move, block the move\r\n        for(let i = 0; i < this.board[0].length; i++){\r\n            if(this.is_winning_move(i, opponent))\r\n                return i;  \r\n        }\r\n\r\n        for(var i=0; i < this.board[0].length && !this.is_timeout(start_time); ++i){\r\n            if(this.can_make_move(i)){\r\n                var[row, col] = this.make_move(i, this.player_num);\r\n                move_score = this.min_value(depth-1, this.player_num, row, col);\r\n                if(move_score >= best_score){\r\n                    best_score = move_score;\r\n                    best_move = i;\r\n                }\r\n                this.unmake_move(i);\r\n            }\r\n        }\r\n\r\n        if(!this.can_make_move(best_move)) {\r\n            best_move = 0;\r\n            while(!this.can_make_move(best_move))\r\n                best_move++;\r\n        }\r\n        while(!this.is_timeout(start_time)){}\r\n        return best_move;\r\n    }\r\n\r\n\r\n    max_value(depth, player, row, col) {\r\n        var best_score = Number.MIN_SAFE_INTEGER;\r\n        var move_score;\r\n        var game_state = get_game_state(this.board, row, col, this.num_to_win, player);\r\n        if(depth === 0 || game_state !== GAME_STATES.ONGOING) {\r\n            return this.get_heuristic(this.player_num, game_state, player);\r\n        }else{\r\n            player = (player === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n            for(var i=0; i < this.board[0].length; ++i){\r\n                if(this.can_make_move(i)){\r\n                    var[r,c] = this.make_move(i, player);\r\n                    move_score = this.min_value(depth-1, player, r, c);\r\n                    if(move_score > best_score)\r\n                        best_score = move_score;\r\n                    this.unmake_move(i);\r\n                }\r\n            }\r\n        }\r\n        return best_score;\r\n    }\r\n\r\n    min_value(depth, player, row, col) {\r\n        var best_score = Number.MAX_SAFE_INTEGER;\r\n        var move_score;\r\n        var game_state = get_game_state(this.board, row, col, this.num_to_win, player);\r\n        if(depth === 0 || game_state !== GAME_STATES.ONGOING) {\r\n            return this.get_heuristic(this.player_num, game_state, player);\r\n        }else{\r\n            player = (player === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n            for(var i=0; i < this.board[0].length; ++i){\r\n                if(this.can_make_move(i)){\r\n                    var[r,c] = this.make_move(i, player);\r\n                    move_score = this.max_value(depth-1, player, r, c);\r\n                    if(move_score < best_score)\r\n                        best_score = move_score;\r\n                    this.unmake_move(i);\r\n                }\r\n            }\r\n        }\r\n        return best_score;\r\n    }\r\n\r\n    \r\n    get_heuristic(our_player, game_state, last_player) {\r\n        if(game_state !== GAME_STATES.ONGOING)\r\n            return (last_player === our_player) ? Number.MAX_SAFE_INTEGER : Number.MIN_SAFE_INTEGER;\r\n\r\n        var board_width = this.board[0].length;\r\n        var board_height = this.board.length;\r\n        var player1_score = 0;\r\n        var player2_score = 0;\r\n        var column_value = [1,2,3,4,3,2,1];\r\n        \r\n        for(var i=0; i < board_width; i++){\r\n            if(this.board[board_height - 1][i] === CELL_STATES.EMPTY) continue;\r\n            var height = board_height - this.get_column_height(i);\r\n            for(var j = board_height - 1; j >= height; j--){\r\n                for(var x = -1; x <= 1; x++){\r\n                    for(var y = -2; y <= 2; y++){\r\n                        if(i + x < 0 || i + x >= board_width || i - x < 0 || i - x >= board_width ||\r\n                            j + y < 0 || j + y >= board_height || j - y < 0 || j - y >= board_height){\r\n                            continue;\r\n                        }\r\n\r\n                        if(this.board[j+y][i+x] === CELL_STATES.PLAYER1){\r\n                            if(this.board[j-y][i-x] === CELL_STATES.PLAYER1) {\r\n                                player1_score += 2 * column_value[i];\r\n                            }else{\r\n                                player1_score += 1;\r\n                            }\r\n                        }else if(this.board[j+y][i+x] === CELL_STATES.PLAYER2){\r\n                            if(this.board[j-y][i-x] === CELL_STATES.PLAYER2){\r\n                                player2_score += 2 * column_value[i];\r\n                            }else{\r\n                                player2_score += 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n        return (this.player_num === CELL_STATES.PLAYER1) ?\r\n            (player1_score - player2_score):(player2_score - player1_score);\r\n\r\n    }\r\n\r\n    opponent_can_win(last_player, our_player){\r\n        var curr_player = (last_player === CELL_STATES.PLAYER1) ? CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\r\n        if(curr_player === our_player) return false;\r\n        for(var i = 0; i < this.board[0].length; i++){\r\n            if(this.can_make_move(i)){\r\n                if(this.is_winning_move(i, curr_player)) return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    is_winning_move(move, curr_player){\r\n        if(this.can_make_move(move)){\r\n            var[r,c] = this.make_move(move, curr_player);\r\n            var game_state = get_game_state(this.board, r, c, this.num_to_win, curr_player);\r\n            this.unmake_move(move);\r\n            if(game_state === GAME_STATES.WIN)\r\n                return true       \r\n        }\r\n        return false;\r\n    }\r\n    \r\n\r\n    get_column_height(col) {\r\n        var height = 0;\r\n        for(var i = this.board.length-1; i >= 0; --i){\r\n            if(this.board[i][col] === CELL_STATES.EMPTY)\r\n                break;\r\n            height++;\r\n        }\r\n        return height;\r\n    }\r\n\r\n    /* \r\n     * checks if the AI has run out of time to make a move\r\n     */\r\n    is_timeout(start_time) {\r\n        return (new Date().getTime() - start_time >= this.timeout);\r\n    }\r\n\r\n\r\n    make_move(column, curr_player) {\r\n        var row = 0;\r\n        while( row < this.board.length && this.board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        this.board[row - 1][column] = curr_player;\r\n        return [row - 1, column];\r\n         \r\n    }\r\n\r\n    unmake_move(column) {\r\n        var row = 0;\r\n        while( row < this.board.length && this.board[row][column] === CELL_STATES.EMPTY) ++row;\r\n        this.board[row][column] = CELL_STATES.EMPTY;\r\n    }\r\n    \r\n    can_make_move(column) {\r\n        return this.board[0][column] === CELL_STATES.EMPTY;\r\n    }\r\n\r\n}","import {CELL_STATES} from '../utils/enum.js'\r\n//import MonteCarloAi from './monte_carlo.js'\r\nimport AlphaBetaAi from './alphabeta.js' \r\nexport default class OmoriAi {\r\n    constructor(player_number, num_to_win, timeout) {\r\n        this.timeout = timeout\r\n        this.chosen_move = 0;\r\n        this.player_num = player_number;\r\n        this.num_to_win = num_to_win;\r\n        this.num_won = 0;\r\n        this.num_draw = 0;\r\n        this.num_lost = 0;\r\n        this.board = null;\r\n    }\r\n\r\n    get_next_move(board) {\r\n        var percent_filled = this.get_percent_filled(board);\r\n        var depth = 0;\r\n        var alpha_beta;\r\n        //Use monte carlo decision making if board is less than 20% full\r\n        if(percent_filled <= 0.25){\r\n             //Use alpha beta decision making and increase depth as board gets more full\r\n             depth = 8;\r\n             alpha_beta = new AlphaBetaAi(this.player_num, this.num_to_win, this.timeout, depth);\r\n             return alpha_beta.get_next_move(board);\r\n        }else if(percent_filled <= 0.6){\r\n            //Use alpha beta decision making and increase depth as board gets more full\r\n            depth = 8;\r\n            alpha_beta = new AlphaBetaAi(this.player_num, this.num_to_win, this.timeout, depth);\r\n            return alpha_beta.get_next_move(board);\r\n        }else{\r\n            //Use alpha beta decision making with increased depth\r\n            depth = 10;\r\n            alpha_beta = new AlphaBetaAi(this.player_num, this.num_to_win, this.timeout, depth);\r\n            return alpha_beta.get_next_move(board);\r\n        }\r\n    }\r\n    // Get the percent of filled cells in the board\r\n    get_percent_filled(board) {\r\n        var num_rows = board.length;\r\n        var num_cols = board[0].length;\r\n        var total = num_rows * num_cols;\r\n        var num_filled = 0;\r\n        //get the number of non empty cells on the board\r\n        for(var r = 0; r < num_rows; r++){\r\n            for(var c = 0; c < num_cols; c++){\r\n                if(board[r][c] !== CELL_STATES.EMPTY)\r\n                    num_filled++;\r\n            }\r\n        }\r\n\r\n        return parseFloat(num_filled) / total;\r\n    }\r\n}","import React from 'react'\r\nimport Select from './select_box.js'\r\nimport RandomAi from '../classes/random.js'\r\nimport MonteCarloAi from '../classes/monte_carlo.js'\r\nimport AlphaBetaAi from '../classes/alphabeta.js'\r\nimport MinimaxAi from '../classes/minimax.js'\r\nimport OmoriAi from '../classes/adh.js'\r\nimport {CELL_STATES} from '../utils/enum.js'\r\nconst ai_timeout = 1000;\r\nvar random = new RandomAi(CELL_STATES.PLAYER2, 4, ai_timeout);\r\nvar monte_carlo = new MonteCarloAi(CELL_STATES.PLAYER2, 4, 500);\r\nvar alpha_beta = new AlphaBetaAi(CELL_STATES.PLAYER2, 4, ai_timeout, 8);\r\nvar minimax = new MinimaxAi(CELL_STATES.PLAYER2, 4, ai_timeout, 5);\r\nvar omori = new OmoriAi(CELL_STATES.PLAYER2, 4, ai_timeout);\r\n\r\nconst ai_options = [\r\n    {name: 'Mostly Random (Easy)', value: random},\r\n    {name: 'Monte Carlo (Normal)', value: monte_carlo},\r\n    {name: 'Minimax (Normal)', value: minimax},\r\n    {name: 'Alpha-Beta (Hard)', value: alpha_beta},\r\n    {name: 'Adaptive Depth Heuristic (Hard)', value: omori}\r\n];\r\nexport default class Header extends React.Component{\r\n    constructor(props){\r\n        super();\r\n    }\r\n    render(){\r\n        return (\r\n            <header>\r\n                <div id='header-title'>\r\n                    Connect 4 AI\r\n                </div>\r\n                <div className='header-item header-select'>\r\n                    <Select title='Choose AI Opponent' options={ai_options} handleChange={this.props.changeAi}/>\r\n                </div>\r\n                \r\n                \r\n                <div className='header-item header-button' onClick={this.props.restartGame}>\r\n                    <div>Restart</div>\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport {CELL_STATES} from '../utils/enum.js'\r\nimport player1_x from '../images/orange-x.png'\r\nimport player2_x from '../images/blue-x.png'\r\nexport default function Cell(props){\r\n    return (\r\n        <div>\r\n            {props.state === CELL_STATES.EMPTY &&\r\n                <div className='cell-container'>\r\n                    <div className='cell empty-cell' id={props.id}>\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {props.state === CELL_STATES.PLAYER1 &&\r\n                <div className='cell-container'>\r\n                    <div className='cell player1-cell drop-token-effect' id={props.id}>\r\n                        {props.winningMove && <img className='mark-winning-effect' alt='orange cross'src={player1_x}/>}\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {props.state === CELL_STATES.PLAYER2 &&\r\n                <div className='cell-container'>\r\n                    <div className='cell player2-cell drop-token-effect' id={props.id}>\r\n                        {props.winningMove && <img className='mark-winning-effect' alt='blue cross' src={player2_x}/>}\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n        \r\n    )\r\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport Cell from './cell.js'\r\n\r\nfunction get_col_class(col, num_cols){\r\n    if(col === 0)\r\n        return ' leftmost-column';\r\n    if(col === num_cols - 1)\r\n        return ' rightmost-column';\r\n    return ''\r\n}\r\n\r\nfunction get_cell_class(row, col, winning_moves){\r\n    for(var i = 0; i < winning_moves.length; ++i){\r\n        var[curr_row, curr_col] = winning_moves[i];\r\n        if(row === curr_row && col === curr_col)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nexport default function Column(props){\r\n    return (\r\n        <div className={'column-container' + get_col_class(props.id, props.numCols)} onClick={()=>props.handleUserAction(props.id)}>\r\n            {\r\n                props.values.map((val, row)=>{\r\n                    return <Cell winningMove={get_cell_class(row, props.id, props.winningMoves)} \r\n                        key={'' + row + ' ' + props.id} id={'' + row + ' ' + props.id} state={val}/>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\nimport Column from './column.js'\r\nimport {CELL_STATES} from '../utils/enum.js'\r\nimport {transpose, is_valid_move} from '../utils/helper.js'\r\n\r\nexport default class Board extends React.Component{\r\n    constructor(props){\r\n        super()\r\n    }\r\n\r\n    attempt_move=(column)=> {\r\n        if(this.props.player === CELL_STATES.PLAYER1 && is_valid_move(this.props.board, column))\r\n            this.props.makeMove(column);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            \r\n            <div className='board-container'>\r\n                {\r\n                    transpose(this.props.board).map((column, index)=>{\r\n                        return <Column key={index} id={index} values={column} \r\n                            numCols={this.props.board[0].length} handleUserAction={this.attempt_move} \r\n                            winningMoves={this.props.winningMoves}/>\r\n                    })\r\n                }\r\n            </div>\r\n            \r\n        );\r\n    }  \r\n}","import React from 'react'\r\nimport {CELL_STATES, GAME_STATES} from '../utils/enum.js'\r\nimport Confetti from 'react-dom-confetti';\r\n\r\nconst config = {\r\n  angle: \"360\",\r\n  spread: 340,\r\n  startVelocity: 35,\r\n  elementCount: 100,\r\n  dragFriction: 0.23,\r\n  duration: 2200,\r\n  stagger: 10,\r\n  width: \"10px\",\r\n  height: \"10px\",\r\n  perspective: \"1000px\",\r\n  colors: [\"#a864fd\", \"#29cdff\", \"#78ff44\", \"#ff718d\", \"#fdff6a\"]\r\n};\r\n\r\nfunction BannerContent(props){\r\n    switch(props.gameState){\r\n        case GAME_STATES.WIN:\r\n            if(props.player === CELL_STATES.PLAYER1)\r\n                return(<div className='message banner-win-effect'>{props.message}</div>);\r\n            else\r\n                return(<div className='message-ai banner-ai-win-effect'> {props.message}</div>);\r\n        case GAME_STATES.DRAW:\r\n            return(<div className='message banner-draw-effect'>{props.message}</div>);\r\n        default:\r\n            if(props.player === CELL_STATES.PLAYER1)\r\n                return(<div className='message reminder-effect'>Your Turn!</div>);\r\n            return(null);\r\n    }\r\n}\r\n\r\nexport default function Banner(props){\r\n    return(\r\n        <div className='banner-container'>\r\n            <Confetti active={ props.gameState === GAME_STATES.WIN && props.player === CELL_STATES.PLAYER1} config={ config }/>\r\n            <BannerContent gameState={props.gameState} player={props.player} message={props.message}/>\r\n        </div>\r\n    )\r\n}","import './App.css';\nimport React from 'react';\nimport Header from './components/header.js'\nimport Board from './components/board.js'\nimport Banner from './components/banner.js'\nimport {CELL_STATES, GAME_STATES} from './utils/enum.js'\nimport {get_game_state, get_winning_move, make_copy, wait} from './utils/helper.js'\nimport MonteCarloAi from './classes/monte_carlo.js'\n\nconst config = {\n  initial_num_rows: 6,\n  initial_num_cols: 7,\n  initial_num_to_win: 4,\n  ai_turn_delay: 100,\n  ai_timeout: 1000\n}\n\nclass App extends React.Component{\n  state = {\n    num_rows: config.initial_num_rows,\n    num_cols: config.initial_num_cols,\n    board: new Array(config.initial_num_rows).fill(CELL_STATES.EMPTY).map(()=> \n      new Array(config.initial_num_cols).fill(CELL_STATES.EMPTY)),\n    winning_moves: [],\n    first_player: CELL_STATES.PLAYER1,\n    curr_player: CELL_STATES.PLAYER1,\n    ai: new MonteCarloAi(CELL_STATES.PLAYER2, 4, 500),\n    ai_name: 'Monte Carlo',\n    num_to_win: config.initial_num_to_win,\n    game_state: GAME_STATES.ONGOING,\n    message:''\n  };\n\n  componentDidUpdate() {\n    if(this.state.curr_player === CELL_STATES.PLAYER2 && this.state.game_state === GAME_STATES.ONGOING){\n      this.get_ai_move();\n    }\n  }\n\n  async get_ai_move() {\n    await wait(config.ai_turn_delay);\n    var next_move = this.state.ai.get_next_move(make_copy(this.state.board));\n    this.make_move(next_move);\n    \n  }\n\n  restart_game=()=> {\n    var first_player = (this.state.first_player === CELL_STATES.PLAYER1) ? \n      CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\n\n    this.setState({\n      board: new Array(6).fill(0).map(()=> new Array(7).fill(0)),\n      first_player: first_player,\n      curr_player: first_player,\n      game_state: GAME_STATES.ONGOING,\n      winning_moves: []\n    });\n  }\n\n  make_move=(column)=>{\n    if(this.state.game_state !== GAME_STATES.ONGOING) \n      return;\n    var board = this.state.board;\n    var row = 0;\n    while(row < this.state.num_rows && board[row][column] === CELL_STATES.EMPTY) row++;\n    board[row - 1][column] = this.state.curr_player;\n    var curr_game_state = get_game_state(board, row-1, column, this.state.num_to_win, this.state.curr_player);\n    this.update_game_state(curr_game_state, board, row-1, column);\n  }\n\n  update_game_state=(curr_game_state, board, row, col)=> {\n    // switch to the next player if game hasn't ended\n    if(curr_game_state === GAME_STATES.ONGOING){\n      var next_player = (this.state.curr_player === CELL_STATES.PLAYER1) ? \n        CELL_STATES.PLAYER2 : CELL_STATES.PLAYER1;\n      this.setState({board: board, game_state: curr_game_state, curr_player: next_player});\n    }else{\n      var winning_moves = [];\n      // assume someone has won or there was a draw\n      if(curr_game_state === GAME_STATES.WIN){\n        //get the winning moves and mark them on the board\n        winning_moves = get_winning_move(board, row, col, this.state.num_to_win, this.state.curr_player);\n      }\n\n      this.setState({\n        board: board, \n        game_state: curr_game_state, \n        winning_moves: winning_moves,\n        message: this.set_banner_message(curr_game_state)\n      });\n    }\n  }\n\n  set_banner_message=(game_state)=>{\n    switch(game_state){\n      case GAME_STATES.WIN:\n          if(this.state.curr_player === CELL_STATES.PLAYER1)\n              return 'You Win!';\n          else{\n            return `${this.state.ai_name} Wins!`;\n          }\n      case GAME_STATES.DRAW:\n          return 'Draw';\n      default:\n          return '';\n    }\n  }\n\n  set_ai=(new_ai)=> {\n    var ai_object = new_ai.value;\n    var ai_name = new_ai.name.split(' ');\n    ai_name.pop();\n    ai_name = ai_name.join(' ');\n\n    this.setState({ai: ai_object, ai_name: ai_name}, ()=>{\n    });\n  }\n\n  render(){ \n    return (\n      <div className=\"App\">\n        <Header restartGame={this.restart_game} changeAi={this.set_ai}/>\n        <Banner gameState={this.state.game_state} player={this.state.curr_player} message={this.state.message}/>\n        <Board board={this.state.board} makeMove={this.make_move} \n          winningMoves={this.state.winning_moves} player={this.state.curr_player}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}